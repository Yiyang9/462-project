The map is initialized first, and then the initial keyframes and map points are stored, which can be used as landmarks for positioning and mapping. This is followed by initializing the place-recognition database and adding the features of the first two keyframes to the database. The camera pose and world point were then optimized to minimize the overall reprojection error. After the previous step, perform a local mapping on each keyframe and attempt to detect and close the loop. Finally, the optimized camera trajectory can be compared with the ground reality to evaluate its accuracy.
